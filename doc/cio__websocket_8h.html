<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>cioall: cio_websocket.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cioall
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">An ANSI C Conformant I/O Library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cio__websocket_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cio_websocket.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the declarations all users of a <a class="el" href="structcio__websocket.html">cio_websocket</a> need to know.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="cio__buffered__stream_8h_source.html">cio_buffered_stream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cio__error__code_8h_source.html">cio_error_code.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cio__eventloop_8h_source.html">cio_eventloop.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cio__export_8h_source.html">cio_export.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cio__http__client_8h_source.html">cio_http_client.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cio__timer_8h_source.html">cio_timer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cio__utf8__checker_8h_source.html">cio_utf8_checker.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cio__write__buffer_8h_source.html">cio_write_buffer.h</a>&quot;</code><br />
</div>
<p><a href="cio__websocket_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcio__websocket__write__job.html">cio_websocket_write_job</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcio__response__buffer.html">cio_response_buffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcio__websocket__private.html">cio_websocket_private</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcio__websocket.html">cio_websocket</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6092b5c3a185ea1e9ca81b41026a2aea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#a6092b5c3a185ea1e9ca81b41026a2aea">CIO_WEBSOCKET_SMALL_FRAME_SIZE</a>&#160;&#160;&#160;125</td></tr>
<tr class="separator:a6092b5c3a185ea1e9ca81b41026a2aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a458de5a4564b38244091fb62494c191b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#a458de5a4564b38244091fb62494c191b">CIO_WEBSOCKET_MAX_HEADER_SIZE</a>&#160;&#160;&#160;14</td></tr>
<tr class="separator:a458de5a4564b38244091fb62494c191b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aca914fcd6af51949d43432f155c61e19"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#aca914fcd6af51949d43432f155c61e19">cio_websocket_close_hook</a>) (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *s)</td></tr>
<tr class="separator:aca914fcd6af51949d43432f155c61e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f4e2befc8d1d0ef6478e7bb7d1bd60"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#a47f4e2befc8d1d0ef6478e7bb7d1bd60">cio_websocket_on_connect</a>) (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *s)</td></tr>
<tr class="separator:a47f4e2befc8d1d0ef6478e7bb7d1bd60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa44f1ffa8cef33d0367d3e6a052241a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#afa44f1ffa8cef33d0367d3e6a052241a">cio_websocket_read_handler</a>) (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, void *handler_context, enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> err, size_t frame_length, uint8_t *data, size_t chunk_length, bool last_chunk, bool last_frame, bool is_binary)</td></tr>
<tr class="memdesc:afa44f1ffa8cef33d0367d3e6a052241a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of websocket read callback functions.  <a href="#afa44f1ffa8cef33d0367d3e6a052241a">More...</a><br /></td></tr>
<tr class="separator:afa44f1ffa8cef33d0367d3e6a052241a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708dd79eefd7e6609cae39f515174e3b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a>) (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, void *handler_context, enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> err)</td></tr>
<tr class="separator:a708dd79eefd7e6609cae39f515174e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa24c9894ba2ee9dc5b0ebbc1c8809701"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701">cio_websocket_status_code</a> { <br />
&#160;&#160;<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a82f24208e6292926e8e02352913d1e09">CIO_WEBSOCKET_CLOSE_NORMAL</a> = 1000, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a8ee520b364af620ff44e60a09c393b97">CIO_WEBSOCKET_CLOSE_GOING_AWAY</a> = 1001, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a5a7495da78c928168a5746962e7e595c">CIO_WEBSOCKET_CLOSE_PROTOCOL_ERROR</a> = 1002, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a0c5ed5627c015f6e7b81c3fc74d7c28e">CIO_WEBSOCKET_CLOSE_UNSUPPORTED</a> = 1003, 
<br />
&#160;&#160;<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701aafc6ff9d1c633323a43641cc8b25dd9a">CIO_WEBSOCKET_CLOSE_NO_STATUS</a> = 1005, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701ac561a452a68e836193daadbdf1db5c10">CIO_WEBSOCKET_CLOSE_UNSUPPORTED_DATA</a> = 1007, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a0ac94d16eff35891a1251a40004171b6">CIO_WEBSOCKET_CLOSE_POLICY_VIOLATION</a> = 1008, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a2d635168ecf8e202026506cf38d00732">CIO_WEBSOCKET_CLOSE_TOO_LARGE</a> = 1009, 
<br />
&#160;&#160;<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a4bb8a74d7c07bacc386e8f849b427434">CIO_WEBSOCKET_CLOSE_MISSING_EXTENSION</a> = 1010, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a8dd8f47511214b8ed8b6901de272e845">CIO_WEBSOCKET_CLOSE_INTERNAL_ERROR</a> = 1011, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a011dbf3875199a1614ef3a81220dc088">CIO_WEBSOCKET_CLOSE_SERVICE_RESTART</a> = 1012, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a4fe538993d22d7dbceb83f2cb17937e8">CIO_WEBSOCKET_CLOSE_TRY_AGAIN_LATER</a> = 1013, 
<br />
&#160;&#160;<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a89041f290dedaca9d7b32b434f57063b">CIO_WEBSOCKET_CLOSE_TLS_HANDSHAKE</a> = 1015, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701a174e73826b58a9e38b3d84aad7855638">CIO_WEBSOCKET_CLOSE_RESERVED_LOWER_BOUND</a> = 3000, 
<a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701af96f1ba0788e17c59249f12a74defd2d">CIO_WEBSOCKET_CLOSE_RESERVED_UPPER_BOUND</a> = 4999
<br />
 }</td></tr>
<tr class="separator:aa24c9894ba2ee9dc5b0ebbc1c8809701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af33fb069400eeffde11ab324bf2245e9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9">cio_websocket_frame_type</a> { <br />
&#160;&#160;<a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9a268d3844949375e76864185036973bd9">CIO_WEBSOCKET_CONTINUATION_FRAME</a> = 0x0, 
<a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9a4698fc6e497c243a27b44361cf407090">CIO_WEBSOCKET_TEXT_FRAME</a> = 0x1, 
<a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9a35933dcf2a9173b8b2c05a87113f2ebb">CIO_WEBSOCKET_BINARY_FRAME</a> = 0x2, 
<a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9a2c1fb6190c895d3c5d1c22310af91a5d">CIO_WEBSOCKET_CLOSE_FRAME</a> = 0x8, 
<br />
&#160;&#160;<a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9a42de48db574a3eb78ee662c4683f4ed3">CIO_WEBSOCKET_PING_FRAME</a> = 0x9, 
<a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9ac89c2941151a6830f7cf69729ee9693c">CIO_WEBSOCKET_PONG_FRAME</a> = 0x0a
<br />
 }</td></tr>
<tr class="separator:af33fb069400eeffde11ab324bf2245e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4b09cc7f9b2e87099efe8bc30d2a4828"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#a4b09cc7f9b2e87099efe8bc30d2a4828">cio_websocket_init</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, bool is_server, <a class="el" href="cio__websocket_8h.html#a47f4e2befc8d1d0ef6478e7bb7d1bd60">cio_websocket_on_connect</a> on_connect, <a class="el" href="cio__websocket_8h.html#aca914fcd6af51949d43432f155c61e19">cio_websocket_close_hook</a> close_hook)</td></tr>
<tr class="separator:a4b09cc7f9b2e87099efe8bc30d2a4828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90758de8a87a59ea945b683b8c6fc464"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#a90758de8a87a59ea945b683b8c6fc464">cio_websocket_close</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, enum <a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701">cio_websocket_status_code</a> status, const char *reason, <a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a> handler, void *handler_context)</td></tr>
<tr class="memdesc:a90758de8a87a59ea945b683b8c6fc464"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a websocket.  <a href="#a90758de8a87a59ea945b683b8c6fc464">More...</a><br /></td></tr>
<tr class="separator:a90758de8a87a59ea945b683b8c6fc464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf324349b95de3f30373cc6c7862d4c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#acf324349b95de3f30373cc6c7862d4c0">cio_websocket_read_message</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, <a class="el" href="cio__websocket_8h.html#afa44f1ffa8cef33d0367d3e6a052241a">cio_websocket_read_handler</a> handler, void *handler_context)</td></tr>
<tr class="memdesc:acf324349b95de3f30373cc6c7862d4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a message from a websocket.  <a href="#acf324349b95de3f30373cc6c7862d4c0">More...</a><br /></td></tr>
<tr class="separator:acf324349b95de3f30373cc6c7862d4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740dec1044b5a7c4bdebe0aad583385c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#a740dec1044b5a7c4bdebe0aad583385c">cio_websocket_write_message_first_chunk</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, size_t frame_length, struct <a class="el" href="structcio__write__buffer.html">cio_write_buffer</a> *payload, bool last_frame, bool is_binary, <a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a> handler, void *handler_context)</td></tr>
<tr class="memdesc:a740dec1044b5a7c4bdebe0aad583385c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a complete message to the websocket.  <a href="#a740dec1044b5a7c4bdebe0aad583385c">More...</a><br /></td></tr>
<tr class="separator:a740dec1044b5a7c4bdebe0aad583385c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf85224ea29aeda0f69513d1e9a69b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#aacf85224ea29aeda0f69513d1e9a69b1">cio_websocket_write_message_continuation_chunk</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, struct <a class="el" href="structcio__write__buffer.html">cio_write_buffer</a> *payload, <a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a> handler, void *handler_context)</td></tr>
<tr class="memdesc:aacf85224ea29aeda0f69513d1e9a69b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Continuous to write data to a websocket message which was started with <a class="el" href="cio__websocket_8h.html#a740dec1044b5a7c4bdebe0aad583385c">cio_websocket_write_message_first_chunk</a>.  <a href="#aacf85224ea29aeda0f69513d1e9a69b1">More...</a><br /></td></tr>
<tr class="separator:aacf85224ea29aeda0f69513d1e9a69b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7ba069e7ba95143b433a9e503750a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#adc7ba069e7ba95143b433a9e503750a3">cio_websocket_write_ping</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, struct <a class="el" href="structcio__write__buffer.html">cio_write_buffer</a> *payload, <a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a> handler, void *handler_context)</td></tr>
<tr class="memdesc:adc7ba069e7ba95143b433a9e503750a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a ping frame to the websocket.  <a href="#adc7ba069e7ba95143b433a9e503750a3">More...</a><br /></td></tr>
<tr class="separator:adc7ba069e7ba95143b433a9e503750a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfd019deec62389b8cd23ed3f95b9ef"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#addfd019deec62389b8cd23ed3f95b9ef">cio_websocket_write_pong</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, struct <a class="el" href="structcio__write__buffer.html">cio_write_buffer</a> *payload, <a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a> handler, void *handler_context)</td></tr>
<tr class="memdesc:addfd019deec62389b8cd23ed3f95b9ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a pong frame to the websocket.  <a href="#addfd019deec62389b8cd23ed3f95b9ef">More...</a><br /></td></tr>
<tr class="separator:addfd019deec62389b8cd23ed3f95b9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0f0dbbfaf936e83a14015972f7fce8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#af0f0dbbfaf936e83a14015972f7fce8d">cio_websocket_set_on_error_cb</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, void(*on_error)(const struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> err, const char *reason))</td></tr>
<tr class="memdesc:af0f0dbbfaf936e83a14015972f7fce8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback function that will be called if an error occurred.  <a href="#af0f0dbbfaf936e83a14015972f7fce8d">More...</a><br /></td></tr>
<tr class="separator:af0f0dbbfaf936e83a14015972f7fce8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bcaeb2c7531109e3e9212a177d6c62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cio__websocket_8h.html#a01bcaeb2c7531109e3e9212a177d6c62">cio_websocket_set_on_control_cb</a> (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, void(*on_control)(const struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, enum <a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9">cio_websocket_frame_type</a> kind, const uint8_t *data, uint_fast8_t length))</td></tr>
<tr class="memdesc:a01bcaeb2c7531109e3e9212a177d6c62"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to a function which is called when a control frame was received.  <a href="#a01bcaeb2c7531109e3e9212a177d6c62">More...</a><br /></td></tr>
<tr class="separator:a01bcaeb2c7531109e3e9212a177d6c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the declarations all users of a <a class="el" href="structcio__websocket.html">cio_websocket</a> need to know. </p>
<dl class="section warning"><dt>Warning</dt><dd>Please note that you always have to wait for the completion of a write call (<a class="el" href="cio__websocket_8h.html#a740dec1044b5a7c4bdebe0aad583385c">cio_websocket_write_message_first_chunk</a>) before issuing a new write call. Otherwise, you risk loss of data to be written! </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a458de5a4564b38244091fb62494c191b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CIO_WEBSOCKET_MAX_HEADER_SIZE&#160;&#160;&#160;14</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6092b5c3a185ea1e9ca81b41026a2aea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CIO_WEBSOCKET_SMALL_FRAME_SIZE&#160;&#160;&#160;125</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aca914fcd6af51949d43432f155c61e19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* cio_websocket_close_hook) (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *s)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a47f4e2befc8d1d0ef6478e7bb7d1bd60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* cio_websocket_on_connect) (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *s)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afa44f1ffa8cef33d0367d3e6a052241a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* cio_websocket_read_handler) (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, void *handler_context, enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> err, size_t frame_length, uint8_t *data, size_t chunk_length, bool last_chunk, bool last_frame, bool is_binary)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The type of websocket read callback functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The <a class="el" href="structcio__websocket.html">cio_websocket</a> the read operation was called on. </td></tr>
    <tr><td class="paramname">handler_context</td><td>The context the functions works on. </td></tr>
    <tr><td class="paramname">err</td><td>If err != <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea6bb29544c99750c61f70b10a1e17d96a">CIO_SUCCESS</a>, the read operation failed, if err == <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea237cc68c5cce982ac9a6e9a434a28dc1">CIO_EOF</a>, the peer closed the stream. If err != <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea6bb29544c99750c61f70b10a1e17d96a">CIO_SUCCESS</a>, ignore the following parameters: <code>frame_length</code>, <code>data</code>, <code>chunk_length</code>, <code>last_chunk</code>, <code>last_frame</code>, <code>is_binary</code>. </td></tr>
    <tr><td class="paramname">frame_length</td><td>The total length of the websocket frame. </td></tr>
    <tr><td class="paramname">data</td><td>The address containing the chunked data. </td></tr>
    <tr><td class="paramname">chunk_length</td><td>The length of the chunked data. </td></tr>
    <tr><td class="paramname">last_chunk</td><td>Shows if the data in <code>data</code> is the last chunked in this frame. </td></tr>
    <tr><td class="paramname">last_frame</td><td>Shows if this frame is the last frame of a fragmented WebSocket message. </td></tr>
    <tr><td class="paramname">is_binary</td><td>Shows if the frame is a binary or a text frame </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a708dd79eefd7e6609cae39f515174e3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* cio_websocket_write_handler) (struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, void *handler_context, enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> err)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="af33fb069400eeffde11ab324bf2245e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9">cio_websocket_frame_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="af33fb069400eeffde11ab324bf2245e9a268d3844949375e76864185036973bd9"></a>CIO_WEBSOCKET_CONTINUATION_FRAME&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af33fb069400eeffde11ab324bf2245e9a4698fc6e497c243a27b44361cf407090"></a>CIO_WEBSOCKET_TEXT_FRAME&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af33fb069400eeffde11ab324bf2245e9a35933dcf2a9173b8b2c05a87113f2ebb"></a>CIO_WEBSOCKET_BINARY_FRAME&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af33fb069400eeffde11ab324bf2245e9a2c1fb6190c895d3c5d1c22310af91a5d"></a>CIO_WEBSOCKET_CLOSE_FRAME&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af33fb069400eeffde11ab324bf2245e9a42de48db574a3eb78ee662c4683f4ed3"></a>CIO_WEBSOCKET_PING_FRAME&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af33fb069400eeffde11ab324bf2245e9ac89c2941151a6830f7cf69729ee9693c"></a>CIO_WEBSOCKET_PONG_FRAME&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701">cio_websocket_status_code</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a82f24208e6292926e8e02352913d1e09"></a>CIO_WEBSOCKET_CLOSE_NORMAL&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a8ee520b364af620ff44e60a09c393b97"></a>CIO_WEBSOCKET_CLOSE_GOING_AWAY&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a5a7495da78c928168a5746962e7e595c"></a>CIO_WEBSOCKET_CLOSE_PROTOCOL_ERROR&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a0c5ed5627c015f6e7b81c3fc74d7c28e"></a>CIO_WEBSOCKET_CLOSE_UNSUPPORTED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701aafc6ff9d1c633323a43641cc8b25dd9a"></a>CIO_WEBSOCKET_CLOSE_NO_STATUS&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701ac561a452a68e836193daadbdf1db5c10"></a>CIO_WEBSOCKET_CLOSE_UNSUPPORTED_DATA&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a0ac94d16eff35891a1251a40004171b6"></a>CIO_WEBSOCKET_CLOSE_POLICY_VIOLATION&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a2d635168ecf8e202026506cf38d00732"></a>CIO_WEBSOCKET_CLOSE_TOO_LARGE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a4bb8a74d7c07bacc386e8f849b427434"></a>CIO_WEBSOCKET_CLOSE_MISSING_EXTENSION&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a8dd8f47511214b8ed8b6901de272e845"></a>CIO_WEBSOCKET_CLOSE_INTERNAL_ERROR&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a011dbf3875199a1614ef3a81220dc088"></a>CIO_WEBSOCKET_CLOSE_SERVICE_RESTART&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a4fe538993d22d7dbceb83f2cb17937e8"></a>CIO_WEBSOCKET_CLOSE_TRY_AGAIN_LATER&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a89041f290dedaca9d7b32b434f57063b"></a>CIO_WEBSOCKET_CLOSE_TLS_HANDSHAKE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701a174e73826b58a9e38b3d84aad7855638"></a>CIO_WEBSOCKET_CLOSE_RESERVED_LOWER_BOUND&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa24c9894ba2ee9dc5b0ebbc1c8809701af96f1ba0788e17c59249f12a74defd2d"></a>CIO_WEBSOCKET_CLOSE_RESERVED_UPPER_BOUND&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a90758de8a87a59ea945b683b8c6fc464"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> cio_websocket_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701">cio_websocket_status_code</a>&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handler_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes a websocket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The websocket to be closed. </td></tr>
    <tr><td class="paramname">status</td><td>The <a class="el" href="cio__websocket_8h.html#aa24c9894ba2ee9dc5b0ebbc1c8809701">websocket status code</a> to be sent. </td></tr>
    <tr><td class="paramname">reason</td><td>A buffer which contains the reason for the close in an UTF8 encoded string. Could be <code>NULL</code> if no reason should be sent. </td></tr>
    <tr><td class="paramname">handler</td><td>A function pointer that will be called when the close frame emitted by this function has been written. </td></tr>
    <tr><td class="paramname">handler_context</td><td>A context pointer which will the argument of <code>handler</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea6bb29544c99750c61f70b10a1e17d96a">CIO_SUCCESS</a> for success. </dd></dl>

</div>
</div>
<a class="anchor" id="a4b09cc7f9b2e87099efe8bc30d2a4828"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> cio_websocket_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cio__websocket_8h.html#a47f4e2befc8d1d0ef6478e7bb7d1bd60">cio_websocket_on_connect</a>&#160;</td>
          <td class="paramname"><em>on_connect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cio__websocket_8h.html#aca914fcd6af51949d43432f155c61e19">cio_websocket_close_hook</a>&#160;</td>
          <td class="paramname"><em>close_hook</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acf324349b95de3f30373cc6c7862d4c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> cio_websocket_read_message </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cio__websocket_8h.html#afa44f1ffa8cef33d0367d3e6a052241a">cio_websocket_read_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handler_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a message from a websocket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The websocket from which a message shall be read. </td></tr>
    <tr><td class="paramname">handler</td><td>A callback function that will be called when the read completes. </td></tr>
    <tr><td class="paramname">handler_context</td><td>A context pointer given to <code>handler</code> when called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea6bb29544c99750c61f70b10a1e17d96a">CIO_SUCCESS</a> for success. </dd></dl>

</div>
</div>
<a class="anchor" id="a01bcaeb2c7531109e3e9212a177d6c62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> void cio_websocket_set_on_control_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, enum <a class="el" href="cio__websocket_8h.html#af33fb069400eeffde11ab324bf2245e9">cio_websocket_frame_type</a> kind, const uint8_t *data, uint_fast8_t length)&#160;</td>
          <td class="paramname"><em>on_control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to a function which is called when a control frame was received. </p>
<p>Library users are not required to set this function pointer.</p>
<dl class="section warning"><dt>Warning</dt><dd>Please be aware that the websocket library handles control frames itself, notably incoming close and ping messages. Please do NOT answer those control frames in this callback function (I.e., do not call <a class="el" href="cio__websocket_8h.html#a90758de8a87a59ea945b683b8c6fc464">close()</a> etc. on the websocket. Immediately after this function returns, the library closes the websocket on its own.) So setting this function pointer is mainly for debugging / logging purposes.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The websocket for which the control frame callback should be set. </td></tr>
    <tr><td class="paramname">on_control</td><td>The callback function to be set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af0f0dbbfaf936e83a14015972f7fce8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> void cio_websocket_set_on_error_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *ws, enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> err, const char *reason)&#160;</td>
          <td class="paramname"><em>on_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a callback function that will be called if an error occurred. </p>
<dl class="section warning"><dt>Warning</dt><dd>Please be aware that the websocket library handles errors itself. Please do NOT make any calls on the struct <a class="el" href="structcio__websocket.html">cio_websocket</a> within this callback. Immediately after this function returns, the library closes the websocket on its own. So setting the error callback is mainly for debugging / logging purposes.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The websocket for which the error callback should be set. </td></tr>
    <tr><td class="paramname">on_error</td><td>The callback function to be set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aacf85224ea29aeda0f69513d1e9a69b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> cio_websocket_write_message_continuation_chunk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcio__write__buffer.html">cio_write_buffer</a> *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handler_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Continuous to write data to a websocket message which was started with <a class="el" href="cio__websocket_8h.html#a740dec1044b5a7c4bdebe0aad583385c">cio_websocket_write_message_first_chunk</a>. </p>
<dl class="section warning"><dt>Warning</dt><dd>Please note that the data <code>payload</code> encapsulates will be scrambled by the library if this function is used in a websocket client connection. So if you want to write the same data again, you have to re-initialize the data encapsluated by <code>payload</code>. In addition you should ALWAYS intialize the write buffer elements in <code>payload</code> using the <a class="el" href="cio__write__buffer_8h.html#a6ad781e6c624d301aaf007ce554b501b">non-const initialization function</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The websocket which should be used for sending. </td></tr>
    <tr><td class="paramname">payload</td><td>The payload to be sent. </td></tr>
    <tr><td class="paramname">handler</td><td>A callback function that will be called when the write operation of the ping completes. </td></tr>
    <tr><td class="paramname">handler_context</td><td>A context pointer given to <code>handler</code> when called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea6bb29544c99750c61f70b10a1e17d96a">CIO_SUCCESS</a> for success. </dd></dl>

</div>
</div>
<a class="anchor" id="a740dec1044b5a7c4bdebe0aad583385c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> cio_websocket_write_message_first_chunk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>frame_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcio__write__buffer.html">cio_write_buffer</a> *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>last_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handler_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a complete message to the websocket. </p>
<dl class="section warning"><dt>Warning</dt><dd>Please note that the data <code>payload</code> encapsulates will be scrambled by the library if this function is used in a websocket client connection. So if you want to write the same data again, you have to re-initialize the data encapsluated by <code>payload</code>. In addition you should ALWAYS intialize the write buffer elements in <code>payload</code> using the <a class="el" href="cio__write__buffer_8h.html#a6ad781e6c624d301aaf007ce554b501b">non-const initialization function</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The websocket which should be used for sending. </td></tr>
    <tr><td class="paramname">frame_length</td><td>The length of the frame to be sent. Please be aware that the frame length must not necessarily be the same as the length of the payload. In fact, this funtion can be used to write the first chunk of a message which has to be continuoued later using <a class="el" href="cio__websocket_8h.html#aacf85224ea29aeda0f69513d1e9a69b1">cio_websocket_write_message_continuation_chunk</a>. </td></tr>
    <tr><td class="paramname">payload</td><td>The payload to be sent. </td></tr>
    <tr><td class="paramname">last_frame</td><td><code>true</code> if the is an unfragmented message or the last frame of a fragmented message, <code>false</code> otherwise. </td></tr>
    <tr><td class="paramname">is_binary</td><td><code>true</code> if the message to be sent is a binary message. </td></tr>
    <tr><td class="paramname">handler</td><td>A callback function that will be called when the write completes. </td></tr>
    <tr><td class="paramname">handler_context</td><td>A context pointer given to <code>handler</code> when called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea6bb29544c99750c61f70b10a1e17d96a">CIO_SUCCESS</a> for success. </dd></dl>

</div>
</div>
<a class="anchor" id="adc7ba069e7ba95143b433a9e503750a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cio__export_8h.html#ab971b12fa232c415369be66dfaca507a">CIO_EXPORT</a> enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> cio_websocket_write_ping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcio__write__buffer.html">cio_write_buffer</a> *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handler_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a ping frame to the websocket. </p>
<dl class="section warning"><dt>Warning</dt><dd>Please note that the data <code>payload</code> encapsulates will be scrambled by the library if this function is used in a websocket client connection. So if you want to write the same data again, you have to re-initialize the data encapsluated by <code>payload</code>. In addition you should ALWAYS intialize the write buffer elements in <code>payload</code> using the <a class="el" href="cio__write__buffer_8h.html#a6ad781e6c624d301aaf007ce554b501b">non-const initialization function</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The websocket which should be used for sending the ping message. </td></tr>
    <tr><td class="paramname">payload</td><td>The payload to be sent. </td></tr>
    <tr><td class="paramname">handler</td><td>A callback function that will be called when the write operation of the ping completes. </td></tr>
    <tr><td class="paramname">handler_context</td><td>A context pointer given to <code>handler</code> when called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea6bb29544c99750c61f70b10a1e17d96a">CIO_SUCCESS</a> for success. </dd></dl>

</div>
</div>
<a class="anchor" id="addfd019deec62389b8cd23ed3f95b9ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afe">cio_error</a> cio_websocket_write_pong </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__websocket.html">cio_websocket</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcio__write__buffer.html">cio_write_buffer</a> *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cio__websocket_8h.html#a708dd79eefd7e6609cae39f515174e3b">cio_websocket_write_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handler_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a pong frame to the websocket. </p>
<dl class="section warning"><dt>Warning</dt><dd>Please note that the data <code>payload</code> encapsulates will be scrambled by the library if this function is used in a websocket client connection. So if you want to write the same data again, you have to re-initialize the data encapsluated by <code>payload</code>. In addition you should ALWAYS intialize the write buffer elements in <code>payload</code> using the <a class="el" href="cio__write__buffer_8h.html#a6ad781e6c624d301aaf007ce554b501b">non-const initialization function</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>The websocket which should be used for sending the pong message. </td></tr>
    <tr><td class="paramname">payload</td><td>The payload to be sent. </td></tr>
    <tr><td class="paramname">handler</td><td>A callback function that will be called when the write operation of the pong completes. </td></tr>
    <tr><td class="paramname">handler_context</td><td>A context pointer given to <code>handler</code> when called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="cio__error__code_8h.html#ac512c4abcb0c1e747cdaaf3b917d4afea6bb29544c99750c61f70b10a1e17d96a">CIO_SUCCESS</a> for success. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="cio__websocket_8h.html">cio_websocket.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
